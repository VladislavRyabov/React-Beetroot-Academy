{"ast":null,"code":"import _toConsumableArray from\"/Users/user/Documents/Beetroot_Academy/React/React-2/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/user/Documents/Beetroot_Academy/React/React-2/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import useFetch from\"react-fetch-hook\";import'./rickAndMorty.scss';import CartRick from\"../../component/Cart/Cart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RickAndMorty(){var _useFetch=useFetch('https://rickandmortyapi.com/api/character?page=2'),isLoading=_useFetch.isLoading,data=_useFetch.data;// console.log(data?.results)\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),out=_useState2[0],setOut=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),option=_useState4[0],setOption=_useState4[1];useEffect(function(){//species\nvar Option=[];data===null||data===void 0?void 0:data.results.forEach(function(item){return Option.push(item.species);});var newOption=new Set(Option);setOption(_toConsumableArray(newOption));console.log(Option);setOut(data===null||data===void 0?void 0:data.results);},[data===null||data===void 0?void 0:data.results]);var inpValue=/*#__PURE__*/React.createRef();function changeState(event){var newArr=[];data===null||data===void 0?void 0:data.results.map(function(item){var lowItemName=item.name.toLowerCase();var lowItemValue=inpValue.current.value.toLowerCase();//\nif(lowItemName.indexOf(lowItemValue)>=0){newArr.push(item);}setOut(newArr);});console.log(inpValue.current.value);}function selectChange(event){var newOpRick=[];data===null||data===void 0?void 0:data.results.map(function(item){// item.species === event.target.value && newOpRick.push(item)\nif(item.species===event.target.value){newOpRick.push(item);setOut(newOpRick);}else if(item.species==='All'){setOut(data===null||data===void 0?void 0:data.results);}});}return isLoading?/*#__PURE__*/_jsx(\"h1\",{children:\"...isLoading\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"RickAndMorty\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"rick-nav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rick-select-row\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:selectChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All\"}),option.map(function(item,index){return/*#__PURE__*/_jsx(\"option\",{children:item},index);})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rick-search-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inpValue}),/*#__PURE__*/_jsx(\"button\",{onClick:changeState,children:\"Search\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-out\",children:out===null||out===void 0?void 0:out.map(function(item){return/*#__PURE__*/_jsx(CartRick,{item:item},item.id);})})]})});}export default RickAndMorty;","map":{"version":3,"names":["React","useState","useEffect","useFetch","CartRick","RickAndMorty","isLoading","data","out","setOut","option","setOption","Option","results","forEach","item","push","species","newOption","Set","console","log","inpValue","createRef","changeState","event","newArr","map","lowItemName","name","toLowerCase","lowItemValue","current","value","indexOf","selectChange","newOpRick","target","index","id"],"sources":["/Users/user/Documents/Beetroot_Academy/React/React-2/front/src/pages/rickAndMorty/RickAndMorty.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nimport useFetch from \"react-fetch-hook\";\nimport './rickAndMorty.scss'\nimport CartRick from \"../../component/Cart/Cart\";\nfunction RickAndMorty() {\n    const {isLoading, data} = useFetch('https://rickandmortyapi.com/api/character?page=2')\n    // console.log(data?.results)\n\n    const [out, setOut] = useState();\n    const [option, setOption] = useState([]);\n\n    useEffect(() => {\n        //species\n        let Option = []\n        data?.results.forEach(item => Option.push(item.species))\n\n        let newOption = new Set(Option)\n\n        setOption([...newOption])\n        console.log(Option)\n\n        setOut(data?.results)\n    }, [data?.results])\n\n    let inpValue = React.createRef()\n    function changeState(event) {\n        let newArr = []\n        data?.results.map((item) => {\n            let lowItemName = item.name.toLowerCase();\n            let lowItemValue = inpValue.current.value.toLowerCase();\n            //\n            if(lowItemName.indexOf(lowItemValue) >= 0) {\n                newArr.push(item)\n            }\n            setOut(newArr)\n        })\n        console.log(inpValue.current.value)\n    }\n\n\n\n    function selectChange(event) {\n        let newOpRick = []\n        data?.results.map(item => {\n            // item.species === event.target.value && newOpRick.push(item)\n            if (item.species === event.target.value) {\n                newOpRick.push(item)\n                setOut(newOpRick)\n            } else if (item.species === 'All') {\n                setOut(data?.results)\n            }\n        })\n    }\n\n    return isLoading ? <h1>...isLoading</h1> : (\n        <>\n            <section>\n                <h2>RickAndMorty</h2>\n\n                <nav className=\"rick-nav\">\n                    <div className=\"rick-select-row\">\n                        <select onChange={selectChange}>\n                            <option value=\"All\">All</option>\n                            {option.map((item, index) => <option key={index}>{item}</option>)}\n                        </select>\n                    </div>\n                    <div className=\"rick-search-row\">\n                        <input type=\"text\" ref={inpValue}/><button onClick={changeState}>Search</button>\n                    </div>\n                </nav>\n                <div className=\"cards-out\">\n                    {out?.map(item => <CartRick key={item.id} item={item}/>)}\n                </div>\n            </section>\n        </>\n    )\n}\nexport default RickAndMorty"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}